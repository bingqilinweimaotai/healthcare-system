import{d as C,z as k,c as _,b as e,w as n,h as d,x as m,r as i,o as f,g as p,t as b,a as v,l as x,_ as N}from"./index-BHCkwbks.js";const D={class:"prescriptions"},z={key:0},B=C({__name:"Prescriptions",setup(q){const u=d([]),a=d(null),r=d(!1);function w(l){return l?new Date(l).toLocaleString("zh-CN"):""}async function g(){u.value=await m("/doctor/prescriptions")??[]}async function h(l){a.value=await m(`/doctor/prescriptions/${l.id}`).catch(()=>null),a.value||(a.value=l),r.value=!0}return k(g),(l,o)=>{const t=i("el-table-column"),y=i("el-button"),c=i("el-table"),V=i("el-dialog");return f(),_("div",D,[e(c,{data:u.value,stripe:""},{default:n(()=>[e(t,{prop:"id",label:"处方ID",width:"100"}),e(t,{prop:"diagnosis",label:"诊断","show-overflow-tooltip":""}),e(t,{prop:"createdAt",label:"开具时间",width:"180"},{default:n(({row:s})=>[p(b(w(s.createdAt)),1)]),_:1}),e(t,{label:"操作",width:"100"},{default:n(({row:s})=>[e(y,{link:"",type:"primary",onClick:A=>h(s)},{default:n(()=>[...o[1]||(o[1]=[p("详情",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),e(V,{modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=s=>r.value=s),title:"处方详情",width:"560"},{default:n(()=>[a.value?(f(),_("div",z,[v("p",null,[o[2]||(o[2]=v("strong",null,"诊断：",-1)),p(b(a.value.diagnosis||"-"),1)]),e(c,{data:a.value.items,size:"small"},{default:n(()=>[e(t,{prop:"drugName",label:"药品"}),e(t,{prop:"spec",label:"规格"}),e(t,{prop:"quantity",label:"数量",width:"80"}),e(t,{prop:"dosage",label:"用法"}),e(t,{prop:"frequency",label:"频次"})]),_:1},8,["data"])])):x("",!0)]),_:1},8,["modelValue"])])}}}),P=N(B,[["__scopeId","data-v-11580c4e"]]);export{P as default};
