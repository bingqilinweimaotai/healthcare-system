# AI æ™ºèƒ½é—®è¯Šå¹³å°

ä¸€ä¸ªå‰åç«¯åˆ†ç¦»çš„æ™ºèƒ½åŒ»ç–—é—®è¯Šç³»ç»Ÿï¼Œæ”¯æŒ AI æ™ºèƒ½é—®è¯Šå’Œäººå·¥åŒ»ç”Ÿå’¨è¯¢ä¸¤ç§æ¨¡å¼ã€‚æ‚£è€…å¯ä»¥é€šè¿‡ AI å¿«é€Ÿè·å¾—åˆæ­¥è¯Šæ–­å»ºè®®ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¸ä¸“ä¸šåŒ»ç”Ÿè¿›è¡Œå®æ—¶æ²Ÿé€šå¹¶è·å¾—å¤„æ–¹ã€‚åŒ»ç”Ÿå¯ä»¥è®¤é¢†ä¼šè¯ã€ä¸æ‚£è€…äº¤æµã€å¼€å…·ç”µå­å¤„æ–¹ã€‚ç®¡ç†å‘˜å¯ä»¥ç®¡ç†ç”¨æˆ·ã€å®¡æ ¸åŒ»ç”Ÿèµ„è´¨ã€ç®¡ç†è¯å“åº“ï¼Œå¹¶æŸ¥çœ‹å¹³å°æ•°æ®ç»Ÿè®¡ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ‘¤ æ‚£è€…ç«¯
- **ç”¨æˆ·æ³¨å†Œ/ç™»å½•**ï¼šæ”¯æŒæ‚£è€…æ³¨å†Œå’Œç™»å½•
- **AI æ™ºèƒ½é—®è¯Š**ï¼š
  - åˆ›å»ºé—®è¯Šä¼šè¯ï¼Œä¸ AI è¿›è¡Œå¤šè½®å¯¹è¯
  - æ”¯æŒæµå¼å“åº”ï¼ˆSSEï¼‰ï¼Œå®æ—¶æ˜¾ç¤º AI å›å¤
  - æŸ¥çœ‹å†å²é—®è¯Šè®°å½•å’Œå¯¹è¯å†…å®¹
- **äººå·¥å’¨è¯¢**ï¼š
  - å‘èµ·äººå·¥å’¨è¯¢ä¼šè¯
  - é€šè¿‡ WebSocket ä¸åŒ»ç”Ÿå®æ—¶èŠå¤©
  - ç­‰å¾…åŒ»ç”Ÿè®¤é¢†ä¼šè¯å¹¶å¼€å§‹å’¨è¯¢
  - å…³é—­ä¼šè¯
- **é—®è¯Šè®°å½•**ï¼š
  - æŸ¥çœ‹æ‰€æœ‰é—®è¯Šå†å²
  - æŸ¥çœ‹å¤„æ–¹è¯¦æƒ…å’Œè¯å“ä¿¡æ¯
- **ä¸ªäººä¿¡æ¯ç®¡ç†**ï¼šä¿®æ”¹æ˜µç§°ã€æ‰‹æœºå·ã€å¤´åƒç­‰

### ğŸ‘¨â€âš•ï¸ åŒ»ç”Ÿç«¯
- **å·¥ä½œå°**ï¼šæŸ¥çœ‹å¾…è®¤é¢†ä¼šè¯ã€æˆ‘çš„ä¼šè¯ç­‰ç»Ÿè®¡ä¿¡æ¯
- **ä¼šè¯ç®¡ç†**ï¼š
  - æŸ¥çœ‹å¾…è®¤é¢†çš„å’¨è¯¢ä¼šè¯åˆ—è¡¨
  - è®¤é¢†ä¼šè¯å¹¶å¼€å§‹å’¨è¯¢
  - é€šè¿‡ WebSocket ä¸æ‚£è€…å®æ—¶èŠå¤©
  - å®Œæˆä¼šè¯
- **å¤„æ–¹ç®¡ç†**ï¼š
  - ä¸ºæ‚£è€…å¼€å…·ç”µå­å¤„æ–¹
  - é€‰æ‹©è¯å“ã€è®¾ç½®ç”¨æ³•ç”¨é‡
  - æ·»åŠ è¯Šæ–­ä¿¡æ¯
  - æŸ¥çœ‹å†å²å¤„æ–¹è®°å½•
- **ä¸ªäººä¿¡æ¯ç®¡ç†**ï¼šå®Œå–„åŒ»ç”Ÿèµ„æ–™ï¼ˆå§“åã€åŒ»é™¢ã€ç§‘å®¤ã€èŒç§°ç­‰ï¼‰

### ğŸ‘¨â€ğŸ’¼ ç®¡ç†å‘˜ç«¯
- **æ•°æ®æ¦‚è§ˆ**ï¼š
  - ç”¨æˆ·ç»Ÿè®¡ï¼ˆæ€»æ•°ã€æ‚£è€…æ•°ã€åŒ»ç”Ÿæ•°ï¼‰
  - ä¼šè¯ç»Ÿè®¡ï¼ˆæ€»æ•°ã€è¿›è¡Œä¸­ã€å·²å®Œæˆï¼‰
  - å¤„æ–¹ç»Ÿè®¡
  - ECharts å¯è§†åŒ–å›¾è¡¨ï¼ˆåŒ»ç”Ÿå’¨è¯¢é‡ç»Ÿè®¡ç­‰ï¼‰
- **ç”¨æˆ·ç®¡ç†**ï¼š
  - æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€æœç´¢ã€çŠ¶æ€ç­›é€‰ï¼‰
  - å¯ç”¨/ç¦ç”¨ç”¨æˆ·è´¦å·
- **åŒ»ç”Ÿç®¡ç†**ï¼š
  - æŸ¥çœ‹åŒ»ç”Ÿåˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€æœç´¢ã€å®¡æ ¸çŠ¶æ€ç­›é€‰ï¼‰
  - å®¡æ ¸åŒ»ç”Ÿèµ„è´¨ï¼ˆé€šè¿‡/æ‹’ç»ï¼‰
  - å¯ç”¨/ç¦ç”¨åŒ»ç”Ÿè´¦å·
- **è¯å“ç®¡ç†**ï¼š
  - æŸ¥çœ‹è¯å“åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€æœç´¢ï¼‰
  - æ–°å¢è¯å“
  - ç¼–è¾‘è¯å“ä¿¡æ¯ï¼ˆåç§°ã€è§„æ ¼ã€å•ä½ã€ç”¨æ³•è¯´æ˜ï¼‰
  - å¯ç”¨/åœç”¨è¯å“

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**ï¼šVue 3.5.8 + TypeScript 5.6.2
- **æ„å»ºå·¥å…·**ï¼šVite 5.4.8
- **çŠ¶æ€ç®¡ç†**ï¼šPinia 2.2.4
- **è·¯ç”±**ï¼šVue Router 4.4.5
- **UI ç»„ä»¶åº“**ï¼šElement Plus 2.6.1
- **å›¾è¡¨åº“**ï¼šECharts 5.5.0
- **HTTP å®¢æˆ·ç«¯**ï¼šAxios 1.7.7
- **WebSocket**ï¼šSockJS 1.6.1 + @stomp/stompjs 7.0.0
- **å›¾æ ‡**ï¼š@element-plus/icons-vue 2.3.1

### åç«¯
- **æ¡†æ¶**ï¼šSpring Boot 3.2.5
- **Java ç‰ˆæœ¬**ï¼š17
- **ORM**ï¼šMyBatis 3.0.3ï¼ˆé Plus ç‰ˆæœ¬ï¼‰
- **æ•°æ®åº“**ï¼šMySQL 8.0+
- **ç¼“å­˜**ï¼šRedisï¼ˆç”¨äº Sa-Token æŒä¹…åŒ–ï¼‰
- **è®¤è¯æˆæƒ**ï¼šSa-Token 1.37.0
  - æ”¯æŒ JWT Token
  - åŸºäº Redis çš„ Token å­˜å‚¨
  - åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶ï¼ˆRBACï¼‰
- **AI é›†æˆ**ï¼šLangChain4j 0.34.0
  - æ”¯æŒ OpenAI APIï¼ˆGPT-4o-miniï¼‰
  - æ”¯æŒæµå¼å“åº”ï¼ˆSSEï¼‰
- **å®æ—¶é€šä¿¡**ï¼šWebSocket + STOMP
- **å®‰å…¨**ï¼šSpring Security
- **å·¥å…·åº“**ï¼šLombok

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

- **JDK**ï¼š17+
- **Node.js**ï¼š16+ï¼ˆæ¨è 18+ï¼‰
- **Maven**ï¼š3.6+
- **MySQL**ï¼š8.0+
- **Redis**ï¼š5.0+ï¼ˆç”¨äº Sa-Tokenï¼‰

## ğŸ—„ï¸ æ•°æ®åº“é…ç½®

æ•°æ®åº“é…ç½®ä½äº `backend/src/main/resources/application.yml`ï¼š

```yaml
spring:
  datasource:
    url: jdbc:mysql://118.25.16.103:3306/biyeshixi?useUnicode=true&characterEncoding=utf8&serverTimezone=Asia/Shanghai&useSSL=false&allowPublicKeyRetrieval=true
    username: root
    password: "202203401290"
  data:
    redis:
      host: 118.25.16.103
      port: 10086
      password: "202203401290"
```

### æ•°æ®åº“è¡¨ç»“æ„

ç³»ç»ŸåŒ…å«ä»¥ä¸‹æ ¸å¿ƒè¡¨ï¼š

- **sys_user**ï¼šç”¨æˆ·è¡¨ï¼ˆæ‚£è€…ã€åŒ»ç”Ÿã€ç®¡ç†å‘˜ï¼‰
- **doctor_profile**ï¼šåŒ»ç”Ÿèµ„æ–™è¡¨ï¼ˆå§“åã€åŒ»é™¢ã€ç§‘å®¤ã€èŒç§°ã€å®¡æ ¸çŠ¶æ€ï¼‰
- **ai_session**ï¼šAI é—®è¯Šä¼šè¯è¡¨
- **ai_message**ï¼šAI é—®è¯Šæ¶ˆæ¯è¡¨
- **consult_session**ï¼šäººå·¥å’¨è¯¢ä¼šè¯è¡¨ï¼ˆæ”¯æŒä¹è§‚é”ï¼‰
- **consult_message**ï¼šäººå·¥å’¨è¯¢æ¶ˆæ¯è¡¨
- **drug**ï¼šè¯å“è¡¨
- **prescription**ï¼šå¤„æ–¹è¡¨
- **prescription_item**ï¼šå¤„æ–¹æ˜ç»†è¡¨
- **sys_permission**ï¼šæƒé™è¡¨
- **sys_role_permission**ï¼šè§’è‰²æƒé™å…³è”è¡¨

è¡¨ç»“æ„ç”± `backend/src/main/resources/schema.sql` åœ¨å¯åŠ¨æ—¶è‡ªåŠ¨åˆå§‹åŒ–ï¼ˆ`CREATE TABLE IF NOT EXISTS`ï¼‰ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd healthcare-system
```

### 2. é…ç½®æ•°æ®åº“å’Œ Redis

ä¿®æ”¹ `backend/src/main/resources/application.yml` ä¸­çš„æ•°æ®åº“å’Œ Redis é…ç½®ã€‚

### 3. å¯åŠ¨åç«¯

```bash
cd backend
mvn clean install
mvn spring-boot:run
```

åç«¯æœåŠ¡å°†åœ¨ `http://localhost:8080` å¯åŠ¨ï¼Œæ¥å£å‰ç¼€ä¸º `/api`ã€‚

**é»˜è®¤ç®¡ç†å‘˜è´¦å·**ï¼š
- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`admin123`

**åˆå§‹åŒ–æ•°æ®**ï¼š
- ç³»ç»Ÿå¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºç¤ºä¾‹è¯å“ï¼ˆé˜¿è«è¥¿æ—ã€å¸ƒæ´›èŠ¬ç­‰ï¼‰
- åˆå§‹åŒ–æƒé™æ•°æ®å’Œè§’è‰²æƒé™å…³è”

### 4. å¯åŠ¨å‰ç«¯

```bash
cd frontend
npm install
npm run dev
```

å‰ç«¯å¼€å‘æœåŠ¡å™¨å°†åœ¨ `http://localhost:5173` å¯åŠ¨ã€‚

**ä»£ç†é…ç½®**ï¼š
- `/api` â†’ `http://localhost:8080/api`ï¼ˆåç«¯ APIï¼‰
- `/ws` â†’ `ws://localhost:8080/ws`ï¼ˆWebSocketï¼‰

### 5. AI é—®è¯Šé…ç½®ï¼ˆå¯é€‰ï¼‰

ç³»ç»Ÿæ”¯æŒä¸¤ç§æ¨¡å¼ï¼š

1. **æ¨¡æ‹Ÿæ¨¡å¼**ï¼ˆé»˜è®¤ï¼‰ï¼š
   - æœªé…ç½® `OPENAI_API_KEY` æ—¶ï¼ŒAI é—®è¯Šè¿”å›æ¨¡æ‹Ÿå›å¤ï¼Œä»…ç”¨äºæ¼”ç¤º

2. **çœŸå® AI æ¨¡å¼**ï¼š
   - è®¾ç½®ç¯å¢ƒå˜é‡ `OPENAI_API_KEY`
   - æˆ–åœ¨ `application.yml` ä¸­é…ç½®ï¼š
     ```yaml
     langchain4j:
       open-ai:
         chat-model:
           api-key: "your-api-key"
           model-name: gpt-4o-mini
           base-url: https://api.openai.com/v1
     ```

## ğŸ“¡ API æ¥å£è¯´æ˜

### è®¤è¯æ¥å£

- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/auth/logout` - é€€å‡ºç™»å½•
- `GET /api/auth/info` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯

### æ‚£è€…æ¥å£

- `POST /api/ai/consult` - AI é—®è¯Šï¼ˆæ™®é€šæ¨¡å¼ï¼‰
- `POST /api/ai/consult/stream` - AI é—®è¯Šï¼ˆæµå¼å“åº”ï¼ŒSSEï¼‰
- `GET /api/ai/sessions` - è·å– AI é—®è¯Šä¼šè¯åˆ—è¡¨
- `GET /api/ai/sessions/{sessionId}/messages` - è·å–ä¼šè¯æ¶ˆæ¯åˆ—è¡¨
- `POST /api/patient/consult/send` - å‘é€äººå·¥å’¨è¯¢æ¶ˆæ¯
- `GET /api/patient/consult/sessions` - è·å–å’¨è¯¢ä¼šè¯åˆ—è¡¨
- `GET /api/patient/consult/sessions/{sessionId}` - è·å–ä¼šè¯è¯¦æƒ…
- `POST /api/patient/consult/sessions/{sessionId}/close` - å…³é—­ä¼šè¯
- `GET /api/patient/consult/sessions/{sessionId}/messages` - è·å–ä¼šè¯æ¶ˆæ¯
- `GET /api/patient/prescriptions` - è·å–å¤„æ–¹åˆ—è¡¨
- `GET /api/patient/prescriptions/{id}` - è·å–å¤„æ–¹è¯¦æƒ…

### åŒ»ç”Ÿæ¥å£

- `GET /api/doctor/consult/waiting` - è·å–å¾…è®¤é¢†ä¼šè¯åˆ—è¡¨
- `POST /api/doctor/consult/claim/{sessionId}` - è®¤é¢†ä¼šè¯
- `GET /api/doctor/consult/sessions` - è·å–æˆ‘çš„ä¼šè¯åˆ—è¡¨
- `POST /api/doctor/consult/sessions/{sessionId}/complete` - å®Œæˆä¼šè¯
- `GET /api/doctor/consult/sessions/{sessionId}` - è·å–ä¼šè¯è¯¦æƒ…
- `POST /api/doctor/consult/send` - å‘é€æ¶ˆæ¯
- `GET /api/doctor/consult/sessions/{sessionId}/messages` - è·å–ä¼šè¯æ¶ˆæ¯
- `GET /api/doctor/drugs` - è·å–è¯å“åˆ—è¡¨
- `POST /api/doctor/prescriptions` - åˆ›å»ºå¤„æ–¹
- `GET /api/doctor/prescriptions` - è·å–å¤„æ–¹åˆ—è¡¨
- `GET /api/doctor/prescriptions/{id}` - è·å–å¤„æ–¹è¯¦æƒ…

### ç®¡ç†å‘˜æ¥å£

- `GET /api/admin/users` - è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆåˆ†é¡µã€æœç´¢ã€ç­›é€‰ï¼‰
- `GET /api/admin/users/{id}` - è·å–ç”¨æˆ·è¯¦æƒ…
- `PUT /api/admin/users/{id}/status` - æ›´æ–°ç”¨æˆ·çŠ¶æ€
- `GET /api/admin/doctors` - è·å–åŒ»ç”Ÿåˆ—è¡¨ï¼ˆåˆ†é¡µã€æœç´¢ã€ç­›é€‰ï¼‰
- `GET /api/admin/doctors/{id}` - è·å–åŒ»ç”Ÿè¯¦æƒ…
- `PUT /api/admin/doctors/{id}/audit` - å®¡æ ¸åŒ»ç”Ÿ
- `PUT /api/admin/doctors/{id}/status` - æ›´æ–°åŒ»ç”ŸçŠ¶æ€
- `GET /api/admin/drugs` - è·å–è¯å“åˆ—è¡¨ï¼ˆåˆ†é¡µã€æœç´¢ï¼‰
- `POST /api/admin/drugs` - åˆ›å»ºè¯å“
- `PUT /api/admin/drugs/{id}` - æ›´æ–°è¯å“
- `GET /api/admin/stats/overview` - è·å–æ•°æ®æ¦‚è§ˆ
- `GET /api/admin/stats/doctor-consult` - è·å–åŒ»ç”Ÿå’¨è¯¢ç»Ÿè®¡

### é€šç”¨æ¥å£

- `GET /api/user/profile` - è·å–ä¸ªäººä¿¡æ¯
- `PUT /api/user/profile` - æ›´æ–°ä¸ªäººä¿¡æ¯
- `PUT /api/user/password` - ä¿®æ”¹å¯†ç 

### è®¤è¯æ–¹å¼

é™¤ç™»å½•å’Œæ³¨å†Œæ¥å£å¤–ï¼Œæ‰€æœ‰æ¥å£éƒ½éœ€è¦åœ¨è¯·æ±‚å¤´ä¸­æºå¸¦ Tokenï¼š

```
Authorization: <token>
```

æ³¨æ„ï¼šSa-Token é…ç½®ä¸­ `token-prefix` ä¸ºç©ºï¼Œæ‰€ä»¥ä¸éœ€è¦ `Bearer` å‰ç¼€ã€‚

## ğŸ” æƒé™ç³»ç»Ÿ

ç³»ç»Ÿé‡‡ç”¨åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶ï¼ˆRBACï¼‰ï¼ŒåŒ…å«ä»¥ä¸‹è§’è‰²ï¼š

- **PATIENT**ï¼šæ‚£è€…è§’è‰²
- **DOCTOR**ï¼šåŒ»ç”Ÿè§’è‰²
- **ADMIN**ï¼šç®¡ç†å‘˜è§’è‰²

### æƒé™ç è¯´æ˜

æƒé™é€šè¿‡æƒé™ç ï¼ˆPermission Codeï¼‰è¿›è¡Œæ§åˆ¶ï¼Œæ ¼å¼ä¸ºï¼š`è§’è‰²:æ¨¡å—:æ“ä½œ`

**æ‚£è€…æƒé™**ï¼š
- `patient:dashboard` - æ‚£è€…é¦–é¡µ
- `patient:consult:create` - å‘èµ·å’¨è¯¢
- `patient:consult:list` - å’¨è¯¢è®°å½•
- `patient:history:view` - é—®è¯Šè®°å½•

**åŒ»ç”Ÿæƒé™**ï¼š
- `doctor:dashboard` - å·¥ä½œå°
- `doctor:consult:list` - ä¼šè¯åˆ—è¡¨
- `doctor:consult:handle` - å¤„ç†ä¼šè¯
- `doctor:prescription:create` - å¼€å…·å¤„æ–¹
- `doctor:prescription:list` - å¤„æ–¹è®°å½•

**ç®¡ç†å‘˜æƒé™**ï¼š
- `admin:dashboard` - æ•°æ®æ¦‚è§ˆ
- `admin:user:list` - ç”¨æˆ·åˆ—è¡¨
- `admin:user:update` - ç”¨æˆ·ç®¡ç†
- `admin:doctor:list` - åŒ»ç”Ÿåˆ—è¡¨
- `admin:doctor:update` - åŒ»ç”Ÿå®¡æ ¸
- `admin:drug:list` - è¯å“åˆ—è¡¨
- `admin:drug:update` - è¯å“ç®¡ç†

æƒé™æ•°æ®åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨åˆå§‹åŒ–ï¼Œè¯¦è§ `schema.sql`ã€‚

## ğŸ’¬ WebSocket å®æ—¶é€šä¿¡

ç³»ç»Ÿä½¿ç”¨ WebSocket + STOMP åè®®å®ç°å®æ—¶æ¶ˆæ¯æ¨é€ï¼Œä¸»è¦ç”¨äºäººå·¥å’¨è¯¢åŠŸèƒ½ã€‚

### è¿æ¥åœ°å€

```
ws://localhost:8080/ws
```

### STOMP ç«¯ç‚¹

- **è®¢é˜…è·¯å¾„**ï¼š`/user/{userId}/queue/messages` - æ¥æ”¶æ¶ˆæ¯
- **å‘é€è·¯å¾„**ï¼š`/app/chat` - å‘é€æ¶ˆæ¯

### æ¶ˆæ¯æ ¼å¼

å‘é€æ¶ˆæ¯ï¼š
```json
{
  "sessionId": 1,
  "content": "æ‚£è€…æ¶ˆæ¯å†…å®¹"
}
```

æ¥æ”¶æ¶ˆæ¯ï¼š
```json
{
  "id": 1,
  "sessionId": 1,
  "senderType": "PATIENT",
  "senderId": 1,
  "content": "æ¶ˆæ¯å†…å®¹",
  "createdAt": "2026-01-29T10:00:00"
}
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
healthcare-system/
â”œâ”€â”€ backend/                    # åç«¯é¡¹ç›®
â”‚   â””â”€â”€ src/main/
â”‚       â”œâ”€â”€ java/com/healthcare/
â”‚       â”‚   â”œâ”€â”€ config/         # é…ç½®ç±»
â”‚       â”‚   â”‚   â”œâ”€â”€ SaTokenConfig.java          # Sa-Token é…ç½®
â”‚       â”‚   â”‚   â”œâ”€â”€ WebSocketConfig.java        # WebSocket é…ç½®
â”‚       â”‚   â”‚   â”œâ”€â”€ SecurityConfig.java         # Spring Security é…ç½®
â”‚       â”‚   â”‚   â”œâ”€â”€ GlobalExceptionHandler.java # å…¨å±€å¼‚å¸¸å¤„ç†
â”‚       â”‚   â”‚   â”œâ”€â”€ DataInit.java               # æ•°æ®åˆå§‹åŒ–
â”‚       â”‚   â”‚   â””â”€â”€ StpInterfaceImpl.java       # Sa-Token æƒé™æ¥å£å®ç°
â”‚       â”‚   â”œâ”€â”€ controller/     # æ§åˆ¶å™¨å±‚
â”‚       â”‚   â”‚   â”œâ”€â”€ AuthController.java         # è®¤è¯æ§åˆ¶å™¨
â”‚       â”‚   â”‚   â”œâ”€â”€ UserController.java         # ç”¨æˆ·æ§åˆ¶å™¨
â”‚       â”‚   â”‚   â”œâ”€â”€ AiConsultController.java    # AI é—®è¯Šæ§åˆ¶å™¨
â”‚       â”‚   â”‚   â”œâ”€â”€ PatientConsultController.java # æ‚£è€…å’¨è¯¢æ§åˆ¶å™¨
â”‚       â”‚   â”‚   â”œâ”€â”€ DoctorController.java       # åŒ»ç”Ÿæ§åˆ¶å™¨
â”‚       â”‚   â”‚   â””â”€â”€ AdminController.java        # ç®¡ç†å‘˜æ§åˆ¶å™¨
â”‚       â”‚   â”œâ”€â”€ service/         # æœåŠ¡å±‚
â”‚       â”‚   â”œâ”€â”€ mapper/          # MyBatis Mapper æ¥å£
â”‚       â”‚   â”œâ”€â”€ entity/          # å®ä½“ç±»ï¼ˆPOJOï¼‰
â”‚       â”‚   â””â”€â”€ dto/             # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚       â””â”€â”€ resources/
â”‚           â”œâ”€â”€ mapper/          # MyBatis Mapper XML
â”‚           â”œâ”€â”€ schema.sql       # æ•°æ®åº“è¡¨ç»“æ„
â”‚           â””â”€â”€ application.yml # åº”ç”¨é…ç½®
â”œâ”€â”€ frontend/                   # å‰ç«¯é¡¹ç›®
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ api/                # API å°è£…
â”‚       â”‚   â”œâ”€â”€ request.ts      # Axios è¯·æ±‚å°è£…
â”‚       â”‚   â””â”€â”€ stomp.ts        # WebSocket å°è£…
â”‚       â”œâ”€â”€ layouts/            # å¸ƒå±€ç»„ä»¶
â”‚       â”‚   â””â”€â”€ MainLayout.vue  # ä¸»å¸ƒå±€
â”‚       â”œâ”€â”€ router/             # è·¯ç”±é…ç½®
â”‚       â”‚   â””â”€â”€ index.ts
â”‚       â”œâ”€â”€ stores/             # Pinia çŠ¶æ€ç®¡ç†
â”‚       â”‚   â””â”€â”€ auth.ts         # è®¤è¯çŠ¶æ€
â”‚       â””â”€â”€ views/              # é¡µé¢ç»„ä»¶
â”‚           â”œâ”€â”€ Login.vue        # ç™»å½•é¡µ
â”‚           â”œâ”€â”€ Register.vue     # æ³¨å†Œé¡µ
â”‚           â”œâ”€â”€ patient/        # æ‚£è€…é¡µé¢
â”‚           â”‚   â”œâ”€â”€ Dashboard.vue
â”‚           â”‚   â”œâ”€â”€ AiConsult.vue
â”‚           â”‚   â”œâ”€â”€ ManualConsult.vue
â”‚           â”‚   â””â”€â”€ History.vue
â”‚           â”œâ”€â”€ doctor/         # åŒ»ç”Ÿé¡µé¢
â”‚           â”‚   â”œâ”€â”€ Dashboard.vue
â”‚           â”‚   â”œâ”€â”€ Sessions.vue
â”‚           â”‚   â””â”€â”€ Prescriptions.vue
â”‚           â””â”€â”€ admin/          # ç®¡ç†å‘˜é¡µé¢
â”‚               â”œâ”€â”€ Dashboard.vue
â”‚               â”œâ”€â”€ Users.vue
â”‚               â”œâ”€â”€ Doctors.vue
â”‚               â””â”€â”€ Drugs.vue
â””â”€â”€ README.md
```

## ğŸ”§ å¼€å‘æŒ‡å—

### åç«¯å¼€å‘

1. **æ·»åŠ æ–°çš„å®ä½“ç±»**ï¼š
   - åœ¨ `entity` åŒ…ä¸‹åˆ›å»ºå®ä½“ç±»
   - åœ¨ `schema.sql` ä¸­æ·»åŠ å¯¹åº”çš„è¡¨ç»“æ„
   - åˆ›å»ºå¯¹åº”çš„ Mapper æ¥å£å’Œ XML

2. **æ·»åŠ æ–°çš„æ¥å£**ï¼š
   - åœ¨ `controller` åŒ…ä¸‹åˆ›å»ºæ§åˆ¶å™¨
   - ä½¿ç”¨ `@SaCheckRole` å’Œ `@SaCheckPermission` æ³¨è§£è¿›è¡Œæƒé™æ§åˆ¶
   - åœ¨ `service` åŒ…ä¸‹å®ç°ä¸šåŠ¡é€»è¾‘

3. **æƒé™æ§åˆ¶**ï¼š
   - ä½¿ç”¨ `@SaCheckRole("ROLE")` è¿›è¡Œè§’è‰²æ ¡éªŒ
   - ä½¿ç”¨ `@SaCheckPermission("permission:code")` è¿›è¡Œæƒé™æ ¡éªŒ
   - åœ¨ `schema.sql` ä¸­æ·»åŠ æ–°çš„æƒé™ç å’Œè§’è‰²æƒé™å…³è”

### å‰ç«¯å¼€å‘

1. **æ·»åŠ æ–°é¡µé¢**ï¼š
   - åœ¨ `views` å¯¹åº”è§’è‰²ç›®å½•ä¸‹åˆ›å»º Vue ç»„ä»¶
   - åœ¨ `router/index.ts` ä¸­æ·»åŠ è·¯ç”±é…ç½®
   - åœ¨ `MainLayout.vue` ä¸­æ·»åŠ èœå•é¡¹ï¼ˆå¦‚éœ€è¦ï¼‰

2. **API è°ƒç”¨**ï¼š
   - ä½¿ç”¨ `@/api/request` ä¸­çš„å°è£…æ–¹æ³•ï¼ˆ`get`, `post`, `put`, `delete`ï¼‰
   - æ‰€æœ‰è¯·æ±‚ä¼šè‡ªåŠ¨æºå¸¦ Token

3. **WebSocket ä½¿ç”¨**ï¼š
   - ä½¿ç”¨ `@/api/stomp` ä¸­çš„å°è£…æ–¹æ³•
   - è¿æ¥åè®¢é˜…æ¶ˆæ¯ï¼Œå‘é€æ¶ˆæ¯æ—¶è°ƒç”¨å¯¹åº”æ–¹æ³•

## ğŸ“¦ ç”Ÿäº§éƒ¨ç½²

### åç«¯éƒ¨ç½²

1. **æ„å»º JAR åŒ…**ï¼š
   ```bash
   cd backend
   mvn clean package
   ```

2. **è¿è¡Œ**ï¼š
   ```bash
   java -jar target/healthcare-backend-1.0.0.jar
   ```

3. **ç¯å¢ƒå˜é‡é…ç½®**ï¼š
   - ä½¿ç”¨ç¯å¢ƒå˜é‡è¦†ç›–æ•æ„Ÿé…ç½®ï¼ˆæ•°æ®åº“å¯†ç ã€Redis å¯†ç ã€API Key ç­‰ï¼‰
   - æˆ–ä½¿ç”¨ `application-prod.yml` é…ç½®æ–‡ä»¶

4. **æ•°æ®åº“åˆå§‹åŒ–**ï¼š
   - ç”Ÿäº§ç¯å¢ƒå»ºè®®å…³é—­è‡ªåŠ¨åˆå§‹åŒ–ï¼š`spring.sql.init.mode: never`
   - ä½¿ç”¨ Flyway æˆ– Liquibase ç®¡ç†æ•°æ®åº“ç‰ˆæœ¬

### å‰ç«¯éƒ¨ç½²

1. **æ„å»º**ï¼š
   ```bash
   cd frontend
   npm run build
   ```

2. **Nginx é…ç½®ç¤ºä¾‹**ï¼š
   ```nginx
   server {
       listen 80;
       server_name your-domain.com;
       
       # é™æ€èµ„æº
       location / {
           root /path/to/frontend/dist;
           try_files $uri $uri/ /index.html;
       }
       
       # API ä»£ç†
       location /api {
           proxy_pass http://localhost:8080;
           proxy_set_header Host $host;
           proxy_set_header X-Real-IP $remote_addr;
       }
       
       # WebSocket ä»£ç†
       location /ws {
           proxy_pass http://localhost:8080;
           proxy_http_version 1.1;
           proxy_set_header Upgrade $http_upgrade;
           proxy_set_header Connection "upgrade";
       }
   }
   ```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ•°æ®åº“å¯†ç **ï¼šç”Ÿäº§ç¯å¢ƒåŠ¡å¿…ä¿®æ”¹é»˜è®¤æ•°æ®åº“å¯†ç 
2. **API Key**ï¼šä¸è¦å°† OpenAI API Key æäº¤åˆ°ä»£ç ä»“åº“ï¼Œä½¿ç”¨ç¯å¢ƒå˜é‡
3. **Token å®‰å…¨**ï¼šSa-Token é…ç½®äº† 30 å¤©è¿‡æœŸæ—¶é—´ï¼Œå¯æ ¹æ®éœ€è¦è°ƒæ•´
4. **å¹¶å‘æ§åˆ¶**ï¼šäººå·¥å’¨è¯¢ä¼šè¯ä½¿ç”¨äº†ä¹è§‚é”ï¼ˆ`version` å­—æ®µï¼‰é˜²æ­¢å¹¶å‘å†²çª
5. **WebSocket è¿æ¥**ï¼šå‰ç«¯éœ€è¦å¤„ç† WebSocket æ–­å¼€é‡è¿é€»è¾‘

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼
